# 8. 제어문

## 1. 블록문

- 블록문(block statement / compound statement): **0개 이상의 문을 중괄호를 묶은 것**으로, `코드 블록` 또는 `블록`이라고 부르기도 한다.
- 자바스크립트는 **블록문을 하나의 실행 단위**로 취급한다.
- 블록문은 언제나 문의 종료를 의미하는 자체 종결성을 갖기 때문에 블록문의 끝에는 **세미콜론을 붙이지 않는다**는 것에 주의하기 바란다.

<br/>

- 블록문이 사용되는 다양한 예제

```js
// 블록문
{
  var foo = "foo";
}

// 제어문
var x = 0;
if (x < 10) {
  x++;
}

// 함수 선언문
function sum(a, b) {
  return a + b;
}
```

<br/><br/><br/>

## 2. 조건문

- 조건문은 주어진 조건식의 평과 결과에 따라 코드 블록(블록문)의 실행을 결정한다. 조건식은 불리언 값으로 평가될 수 있는 표현식이다.
- 자바스크립트는 1) `if...else문` 과 2) `switch문` 으로 두 가지 조건문을 제공한다.

<br/>

### 2.1 if ... else 문

- 주어진 조건식(불리언 값으로 평가될 수 있는 표현식)의 평가 결과, 즉 논리적 참 또는 거짓에 따라 실행할 코드 블록을 결정한다.
- 만약 if 문의 조건식이 불리언 값이 아닌 값으로 평가되면, 자바스크립트엔진에 의해 암묵적으로 불리언 값으로 강제 변환되어 실행할 코드 블록을 결정한다.

<br/><br/>

### 2.2 switch 문

- switch 문은 주어진 표현식을 평가하여 그 값과 일치하는 표현식을 갖는 case 문으로 실행 흐름을 옮긴다.
- case 문은 상황을 의미하는 표현식을 지정하고 콜론으로 마친다. 그리고 그 뒤에 실행할 문들을 위치시킨다.
- switch 문의 표현식과 일치하는 case 문이 없다면 실행 순서는 default 문으로 이동한다. (optional)

<br/>

- switch 문이 끝날 때까지 이후의 모든 case 문과 default 문을 실행하는 것을 폴스루(fall through)라 한다.
- break 키워드로 구성된 break 문은 코드 블록에서 탈출하는 역할을 한다.

<br/>

=> **if...else 문은 논리적 참, 거짓으로 실행할 코드 블록을 결정한다. switch 문은 논리적 참, 거짓보다는 다양한 상황(case)에 따라 실행할 코드 블록을 결정할 때 사용한다.**
<br/><br/><br/>

## 3. 반복문

- 반복문은 조건식의 평가 결과가 참인 경우 코드 블록을 실행한다. 그 후 조건식을 다시 평가하여 여전히 참인 경우 코드 블록을 다시 실행한다. 이는 조건식이 거짓일 때까지 반복된다.

<br/>

### 3.1 for 문

- `for 문`은 조건식이 거짓으로 평가될 때까지 코드 블록을 반복 실행한다.

```js
for (변수 선언문 또는 할당문; 조건식; 증감식) {
  조건식이 참인 경우 반복 실행될 문;
}
```

<br/><br/>

### 3.2 while 문

- `while 문`은 주어진 조건식의 평가 결과가 참이면 코드 블록을 계속해서 반복 실행한다. `for`문은 반복 횟수가 명확할 때 주로 사용하고 `while`문은 반복 횃수가 불명확할 때 주로 사용한다.
- `while 문`은 조건문의 평과 결과가 거짓이 되면코드 블록을 실행하지 않고 종료한다. 만약 조건식의 평가 결과가 불리언 값이 아니면 불리언 값으로 강제 변환하여 논리적 참, 거짓을 구별한다.

<br/>

```js
var count = 0;

// 무한루프
while (true) {
  console.log(count);
  count++;

  // count가 3이면 코드 블록을 탈출한다.
  if (count === 3) break;
} // 0 1 2
```

<br/><br/>

### 3.3 do...while 문

- `do...while`문은 **코드 블록을 먼저 실행**하고 → 조건식을 평가한다. 따라서 코드 블록은 무조건 한 번 이상 실행된다.

<br/><br/><br/>

## 4. break 문

- 레이블 문, 반복문(for, for...in, for...of, while, do...while) 또는 switch 문의 코드 블록을 탈출한다.
- 레이블 문, 반복문, switch 문의 코드 블록 외에 break 문을 사용하면 SyntaxError(문법 에러)가 발생한다.

<br/>

- 레이블 문이란 식별자가 붙은 문을 말한다.
- 레이블 문은 프로그램의 실행 순서를 제어하는 데 사용한다. 사실 switch 문의 case 문과 default 문도 레이블 문이다. **레이블 문을 탈출하려면 break 문에 레이블 식별자를 지정**한다.

<br/>

```js
// foo라는 레이블 식별자가 붙은 레이블 문
foo: console.log("foo");
```

<br/><br/><br/>

## 5. continue 문

- continue 문은 **반복문의 코드 블록 실행을 현 지점에서 중단**하고 → **반복문의 증감식으로 실행 흐름을 이동**시킨다. break 문처럼 반복문을 탈출하지는 않는다.

<br/>

```js
const string = "Hello World";
const search = "l";
let count = 0;

// 문자열은 유사 배열이므로 for 문으로 순회할 수 있다.
for (let i = 0; i < string.length; i++) {
  // "l"이 아니면 현 지점에서 실행을 중단하고 반복문의 증감식으로 이동한다.
  if (string[i] !== search) continue;

  count++; // continue 문이 실행되면 이 문은 실행되지 않는다.
}
```

<br/>

```js
const string = "Hello World";
const search = "l";
let count = 0;

for (let i = 0; i < string.length; i++) {
  // "l"이면 카운트를 증가시킨다.
  if (string[i] === search) count++;
}
```

<br/>

- 위 코드 경우, `if 문` 내에서 실행해야 할 코드가 한 줄이라면 `continue 문` 을 사용했을 때보다 간편하고 가독성도 좋다. 하지만 **if 문 내에서 실행해야 할 코드가 길다면** 들여쓰기가 한 단계 더 깊어지므로 **`continue 문`을 사용하는 편이 가독성이 더 좋다.**
